!function(a){a.TreeMenu=function(b,c){var d=this;d.$el=a(b),d.el=b,d.$el.data("TreeMenu",d),d.init=function(){d.options=a.extend({},a.TreeMenu.defaultOptions,c),d.initMenu(d.$el)},d.initMenu=function(b){var c=d.options.animationSpeed;b.on("click","li a",function(b){var d=a(this),e=d.next();if(e.is(".treeview-menu")&&e.is(":visible"))e.slideUp(c,function(){e.removeClass("menu-open")}),e.parent("li").removeClass("active");else if(e.is(".treeview-menu")&&!e.is(":visible")){var f=d.parents("ul").first(),g=f.find("ul:visible").slideUp(c);g.removeClass("menu-open");var h=d.parent("li");e.slideDown(c,function(){e.addClass("menu-open"),f.find("li.active").removeClass("active"),h.addClass("active")})}e.is(".treeview-menu")&&b.preventDefault()})},d.init()},a.TreeMenu.defaultOptions={animationSpeed:500},a.fn.treeMenu=function(b){return this.each(function(){new a.TreeMenu(this,b)})}}(jQuery);